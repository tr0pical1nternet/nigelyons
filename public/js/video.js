"use strict";var videos=document.querySelectorAll("video");function autoQuality(r){var o,n=1e4;return r.sources.forEach(function(e){var t=r.offsetHeight,u=Number(e.dataset.quality);t<=u&&u<=n&&(n=u,o=e.src)}),o}function updateSource(e,t){if(e.currentSrc!==t){var u=e.currentTime,r=e.paused;e.src=t,e.currentTime=u,r||e.play()}}function debounce(r,o,n){var c;return function(){var e=this,t=arguments,u=n&&!c;clearTimeout(c),c=setTimeout(function(){c=null,n||r.apply(e,t)},o),u&&r.apply(e,t)}}videos.forEach(function(e){e.sources=e.querySelectorAll("source")});var debounceUpdateSources=debounce(function(){videos.forEach(function(e){return updateSource(e,autoQuality(e))})},250);videos.forEach(function(e){return e.addEventListener("loadedmetadata",function(){updateSource(e,autoQuality(e))},{once:!0})}),window.addEventListener("resize",debounceUpdateSources);